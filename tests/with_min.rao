type TestStop {
	boolean mustStop = false;
}

resource testStop = TestStop.create(*);

type T {
	int fieldToCheck;
}

resource r1 = T.create(3);
resource r2 = T.create(1);
resource r3 = T.create(2);

rule checkWithMin() {
	relevant rel = T.select(any).withMin(rel.fieldToCheck);

	set execute() {
		rel.fieldToCheck = -1;
		testStop.mustStop = true;
	}
}

result testCase1Passed = getValue(r2.fieldToCheck == -1);

dpt D {
	activity a checks checkWithMin();
}

set terminateCondition() {
	return testStop.mustStop == true;
}
